<!DOCTYPE>
<html>
<head>
	<title>Week Fifteen</title>
	<link rel="stylesheet" type="text/css" href="../assets/css/reset.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="../assets/css/week-15.css">
	<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
</head>
<body>
<!-- Navbar Code Starts -->
	<div>
		<nav class="navbar navbar-toggleable-md navbar-light bg-primary">
 	 		<button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
		    <span class="navbar-toggler-icon"></span>
		  </button>
		  <a class="navbar-brand" href="index.html">Home</a>
		  <div class="collapse navbar-collapse" id="navbarNavDropdown">
		    <ul class="navbar-nav">
		      <li class="nav-item dropdown">
		        <a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		          Lessons
		        </a>
		        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
		          <a class="dropdown-item" href="week-1.html">Unit 1</a>
		          <a class="dropdown-item" href="#">Unit 2</a>
		          <a class="dropdown-item" href="#">Unit 3</a>
		          <a class="dropdown-item" href="#">Unit 4</a>
		          <a class="dropdown-item" href="#">Unit 5</a>
		          <a class="dropdown-item" href="#">Unit 6</a>
		          <a class="dropdown-item" href="#">Unit 7</a>
		          <a class="dropdown-item" href="#">Unit 10</a>
		          <a class="dropdown-item" href="#">Unit 11</a>
		          <a class="dropdown-item" href="#">Unit 12</a>
		          <a class="dropdown-item" href="#">Unit 13</a>
		          <a class="dropdown-item" href="#">Unit 14</a>
		          <a class="dropdown-item" href="week-15.html">Unit 15</a>
		          <a class="dropdown-item" href="week-16.html">Unit 16</a>    		                                      
		        </div>
		      </li>
		      <li class="nav-item dropdown">
		        <a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		          Homeworks
		        </a>
		        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
		          <a class="dropdown-item" href="#">Homework 1</a>
		          <a class="dropdown-item" href="#">Homework 2</a>
		          <a class="dropdown-item" href="#">Homework 3</a>
		          <a class="dropdown-item" href="#">Homework 4</a>
		          <a class="dropdown-item" href="#">Homework 5</a>
		          <a class="dropdown-item" href="#">Homework 6</a>
		          <a class="dropdown-item" href="#">Homework 7</a>
		          <a class="dropdown-item" href="#">Homework 8</a>
		          <a class="dropdown-item" href="#">Homework 11</a>
		          <a class="dropdown-item" href="#">Homework 12</a>
		          <a class="dropdown-item" href="#">Homework 13</a>
		          <a class="dropdown-item" href="#">Homework 14</a>
		          <a class="dropdown-item" href="#">Homework 15</a>                            
		        </div>
		      </li>
		      <li class="nav-item dropdown">
		        <a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		          Hackathons
		        </a>
		        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
		          <a class="dropdown-item" href="#">JS Object</a>
		          <a class="dropdown-item" href="#">Array Intersection</a>
		          <a class="dropdown-item" href="#">Missing Card</a>
		          <a class="dropdown-item" href="#">Questions to ask on an interview</a>
		          <a class="dropdown-item" href="#">Jibber Jobber</a>
		          <a class="dropdown-item" href="#">HTML 5 Canvas</a>
		          <a class="dropdown-item" href="#">Three JS</a>
		          <a class="dropdown-item" href="#">Even Number</a>
		          <a class="dropdown-item" href="#">Slackbots</a>
		          <a class="dropdown-item" href="#">Recursion Question</a>
		          <a class="dropdown-item" href="#">Big O Notation</a>
		          <a class="dropdown-item" href="#">Less Sass</a>
		          <a class="dropdown-item" href="#">Data Dot World</a>                            
		        </div>
		      </li>			      		      
		    </ul>
		  </div>
		</nav>
	</div>
<!-- Navbar Code Ends -->
<!-- Activites Section Code -->
	<div class = "container activities">
	<h1>Activites: </h1>
<!-- First Activity -->
		<div class = "row activities" id = "sequelize-cli">
<!-- Text for First Activity -->
			<div class ="activities col-md-6" id = "sequelize-cli-text">
				<h1>Sequelize CLI</h1>
				<p>In this activity we will use the Sequelize Command Line Interface to initialize a Sequelize project</p>
				<h3>Instructions</h3>
				<li>Utilize the <a href="https://drive.google.com/file/d/0B1KZ4qIC1VXuS1ZhejRhakVoTVU/view?usp=sharing">Sequelize Quick Start Guide</a> to initialize a Sequelize project and create and sync at least one model.</li>
				<li>Once complete, run node server in the terminal if your model was turned into a MySQL table, you were successful</li>
					<h3>Files: </h3>
					<a href="https://drive.google.com/open?id=0B5F3A-6n-ILuNmdycGdVSHJWSlk">package.json</a> <br>
					<a href="https://drive.google.com/open?id=0B5F3A-6n-ILuWl83V191cTFPT2c">server.js</a>				
			</div>
<!-- Solution for First Activity -->
			<div class = "activities col-md-6" id = "sequelize-cli-answer">
<!-- Solution Button -->
				<p>
				  <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#sequelize-cli-answer-block" aria-expanded="false" aria-controls="#sequelize-cli-answer-block">
				    Solution
				  </button>
				</p>

				<div class="collapse activities" id="sequelize-cli-answer-block">
<!-- Solution Text -->
				  <div class= "activities">
				  	<h5>Files : </h5>
				  	<a href="https://drive.google.com/open?id=0B5F3A-6n-ILuWkFxbER2MFVPYzQ">Solved</a><br>
				  	<h5>Steps : </h5>
				   If you do not already have it, globally install the Sequelize-cli npm package <br>
		          	<pre class ="activities" id ="sequelize-cli-answer-1">
		            	<code class ="activities" id ="sequelize-cli-answer-1">
npm install -g sequelize-cli           
		            	</code>
          			</pre>
          			Install the express mysql and sequelize npm packages<br>
		          	<pre class ="activities" id ="sequelize-cli-answer-2">
		            	<code>
npm install express --save	            	
npm install sequelize --save
npm install mysql --save
		            	</code>
          			</pre>
          			While at the root of your project directory, run<br>
		          	<pre class ="activities" id ="sequelize-cli-answer-3">
		            	<code>
sequelize init:config init:models             
		            	</code>
          			</pre>
          			This will create a config folder and models folder<br>
          			Go to the config.json file in the config.json folder and alter the contents of the development database object to match your local MySQL database<br>
          			Create a test.js file in the models folder. This will be our model.<br>
          			Inside the file add in the following code:<br>
		          	<pre class ="git" id ="sequelize-cli-answer-4">
		            	<code>
module.exports = function(sequelize, DataTypes){
  var Model = sequelize.define("Model",{
    name: DataTypes.STRING,   		      
    bio: DataTypes.TEXT            
  });            	
  return Model;
}	            	
						</code>
          			</pre>
          			This code will be our model. In this model we have 2 columns, name and bio.<br>
          			In order to create tables in our database from the models, we need to sync them with our database. To do this, we'll utilize the sequelize.sync() method.<br>
          			Go to your server.js file and add in the following code.<br>
          			<pre class = "activities" id = "sequelize-cli-answer-5">
          				<code>
var express = require("express");
var db = require("./models");

var app = express();
var PORT = process.env.PORT || 8080;

db.sequelize.sync().then(function(){
  app.listen(PORT, function() {
    console.log("App listening on PORT " + PORT);
  });
}); 					
          				</code>
          			</pre>
          			This code tells us on server startup, make sure that all the tables are created using sequelize.sync()<br>
          			<h3>IF YOU ARE RUNNING WINDOWS 10</h3>
          			Change your index.js file to this:<br>
          			<pre class = "activities" id = "sequelize-cli-answer-6">
          			<code>
'use strict';

var fs        = require('fs');
var path      = require('path');
var Sequelize = require('sequelize');
var basename  = path.basename(module.filename);
var env       = process.env.NODE_ENV || 'development';
var config    = require(__dirname + '/../config/config.json')[env];
var db        = {};

if (config.use_env_variable) {
  var sequelize = new Sequelize(process.env[config.use_env_variable]);
} else {
  var sequelize = new Sequelize(config.database, config.username, config.password, config);
}

fs
  .readdirSync(__dirname)
  .filter(function(file) {
    return (file.indexOf('.') !== 0) && (file !== basename) && (file.slice(-3) === '.js');
  })
  .forEach(function(file) {
    var model = sequelize['import'](path.join(__dirname, file));
    db[model.name] = model;
  });

Object.keys(db).forEach(function(modelName) {
  if (db[modelName].associate) {
    db[modelName].associate(db);
  }
});

db.sequelize = sequelize;
db.Sequelize = Sequelize;

module.exports = db;     				
          			</code>
          			</pre>
          			Windows 10 has a weird error where it will mess around with this file and cause sequelize to break. So make sure your index.js file looks like this code above <br>
         			Run your server.js file<br>
				  </div>
<!-- Solution Text Ends -->
				</div>	
<!-- Solution for First Activity Ends -->
			</div>
<!-- First Activity Ends -->
		</div>
<!-- Second Activity -->
	<div class = "row activities" id ="ormToSequelize">
<!-- Text for Second Activity -->
		<div class = "activities col-md-6" id = "ormToSequelize-text">
			<h1>ORM to Sequelize</h1>
			<p>In this activity we will convert a todolist using a basic ORM to use Sequelize instead.</p>
			<h3>Instructions</h3>
			<li>Create a new local MYSQL database called 'todolist', but don't create any tables.</li>
			<li>Delete any references to the orm.js file inside the api-routes.js file.</li>
			<li>Delete the config folder.</li>
			<li>While inside the activity folder, run npm install in terminal.</li>
			<li>In terminal, type in the following command: sequelize init:models init:config. If this produces an error, then you may not have the sequelize-cli installed globally. If you error mentions a gulpfile,you likely typed in the command incorrectly.</li>
			<li>Step 5 should have created a config and a models folder. Navigate to the config folder, open config.json, and modify the development object's database,username and password values to match your MYSQL database on your machine.</li>
			<li>Navigate to the models folder and create a new file called todo.js. Create a Todo model with columns for text (DataTypes.STRING), and complete (DataTypes.BOOLEAN).</li>
			<li>Navigate to the server.js file and require all of our models by requiring the models folder. Save this to a variable and name it db.</li>
			<li>Sync the models by running db.sequelize.sync() before we start the express server.</li>
			<li>In your terminal, run node server. Check MYSQL Workbench to see if a Todos table was created. If so, you were successful. If not, check your terminal for any errors.</li>			
				<h3>Files: </h3>
					<a href="https://drive.google.com/open?id=0B5F3A-6n-ILuWXNnU2s5Ync2TzQ">Folder</a> <br>	
		</div>
<!-- Solution for Second Activity -->
			<div class ="activities col-md-6" id="ormToSequelize-answer">
<!-- Solution Button -->
				<p>
				  <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#ormToSequelize-answer-block" aria-expanded="false" aria-controls="#ormToSequelize-answer-block">
				    Solution
				  </button>
				</p>

				<div class="collapse activities" id="ormToSequelize-answer-block">
<!-- Solution Text -->
				  <div class= "activities">
				  	<h5>Files : </h5>
				  	<a href="https://drive.google.com/open?id=0B5F3A-6n-ILuQUdLbG95cXlsbFU">Solved</a><br>
				  	<h5>Steps : </h5>
				    Create the database in mysql using create database
		          	<pre class ="activities" id ="ormToSequelize-answer-1">
		            	<code>
mysql > create database todolist_db            
		            	</code>
          			</pre>
          			Go to the orm.js file and delete a bunch of code<br>
          			What the file should look like after deleting references to orm.js file inside the api-routes.js file:
		          	<pre class ="activities" id ="ormToSequelize-answer-2">
		            	<code>
module.exports = function(app) {

  app.get("/api/todos", function(req, res) {

  });

  app.post("/api/todos", function(req, res) {

  });

  app.delete("/api/todos/:id", function(req, res) {

  });

  app.put("/api/todos", function(req, res) {

  });
};
		            	</code>
          			</pre>
          			Delete the config folder in the root directory of your assignment <br>
          			Run npm install in the root directory of your assignment (This will install all the npm packages preset in the package.json)<br>
          			Run this commands in the terminal while you are in the directory of your assignment:
		          	<pre class ="activities" id ="ormToSequelize-answer-1">
		            	<code>
sequelize init:models init:config           
		            	</code>
          			</pre>
          			Go to the config.json file in the config.json folder and alter the contents of the development database object to match your local MySQL database<br>
          			Create a todo.js in the model folder and create the todo model
		          	<pre class ="activities" id ="ormToSequelize-answer-3">
		            	<code>
module.exports = function(sequelize, DataTypes) {
  var Todo = sequelize.define("Todo", {
    text: DataTypes.STRING,
    complete: DataTypes.BOOLEAN
  });
  return Todo;
};   
		            	</code>
          			</pre>
          			Let's set up the server.js file with dependencies and .sync();<br>
          			Require the models folder under the dependencies in your server.js file
		          	<pre class ="activities" id ="ormToSequelize-answer-4">
		            	<code>
var db = require("./models");             
		            	</code>
          			</pre>
          			Add a Seqeuelize Sync at the end of the file.
		          	<pre class ="activities" id ="ormToSequelize-answer-4">
		            	<code>
db.sequelize.sync().then(function(){
  app.listen(PORT, function() {
    console.log("App listening on PORT " + PORT);
  });
});     
		            	</code>
          			</pre>
          			Run your server.js file	
<!-- Solution Text Ends -->	  
          			</div>
				</div>
<!-- Solution for Second Activity Ends -->
			</div>
<!-- Second Activity Ends -->
		</div>
<!-- Third Activity -->
		<div class = "row activities" id = "sequelizeCreateRead">
<!-- Text for Third Activity -->
			<div class ="activities col-md-6" id = "sequelizeCreateRead-text">
				<h1>Sequelize Create and Read</h1>
				<p>In this activity we will add CREATE and READ functionality to the todolist app.</p>
				<h3>Instructions</h3>
				<li>Open the folder and run npm install.</li>
				<li>Update the config.json file's development object with your own local MYSQL database settings.</li>
				<li>Navigate to the api-routes.js folder.</li>
				<li>Add a Sequelize findAll method inside the GET route which finds all of the todos and returns them to the user as JSON.</li>
				<li>Add a Sequelize create method to the POST route to save a new todo to the database using the data sent to the server in req.body.</li>
				<li>Hint: We can access the Todo model here with db.Todo.</li>
				<li><a href="https://drive.google.com/open?id=0B1KZ4qIC1VXuQVpySkN1cnJCT28">Sequelize Commands Cheat Sheet</a></li>
					<p>Once complete, run node server in the terminal if your model was turned into a MySQL table, you were successful</p>
					<h3>Files: </h3>
					<a href="https://drive.google.com/open?id=0B5F3A-6n-ILubjN0OUhnOF9sc1k">Folder</a>				
			</div>
<!-- Solution for Third Activity -->
			<div class = "activities col-md-6" id = "sequelizeCreateRead-answer">
<!-- Solution Button -->
				<p>
				  <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#sequelizeCreateRead-answer-block" aria-expanded="false" aria-controls="#sequelizeCreateRead-answer-block">
				    Solution
				  </button>
				</p>

				<div class="collapse activities" id="sequelizeCreateRead-answer-block">
<!-- Solution Text -->
				  <div class= "activities">
				  	<h5>Files : </h5>
				  	<a href="https://drive.google.com/open?id=0B5F3A-6n-ILuWkFxbER2MFVPYzQ">Solved</a><br>
				  	<h5>Steps : </h5>
				    Update the config.json file development database object to match your mySQL database<br>
				    Let's add code for what the server should do when the user hits the GET route. (requests for information)
		          	<pre class ="activities" id ="sequelizeCreateRead-answer-1">
		            	<code class ="activities" id ="sequelizeCreateRead-answer-1">

app.get("/api/todos", function(req, res) {
  db.Todo.findAll({}).then(function(dbTodo) {
    res.json(dbTodo);
  });  
});		            	       
		            	</code>
          			</pre>
          			In this case if the user hits the GET route /api/todos they request the database to find everything in the Todo Table and print it out in json form<br>
          			Next Let's add code for what the server should do when the user hits the POST route (Inputs in information);
		          	<pre class ="activities" id ="sequelizeCreateRead-answer-2">
		            	<code class ="activities" id ="sequelizeCreateRead-answer-2">
app.post("/api/todos", function(req, res) {
  db.Todo.create({
    text: req.body.text,
    complete: req.body.complete  
  }).then(function(dbTodo) { 
    res.json(dbTodo); 
  });  
});		            			            	         
		            	</code>
          			</pre>
          			In this case if the user hits the POST route /api/todos they will request the database to make a new todo with the information inputted by the user. (This information is grabbed by body-parser)<br>
          			Run the server.js file         			
				  </div>
<!-- Solution Text Ends -->
				</div>	
<!-- Solution for Third Activity Ends -->
			</div>
<!-- Third Activity Ends -->
		</div>
<!-- Fourth Activity -->
		<div class = "row activities" id = "sequelizeUpdateDelete">
<!-- Text for Fourth Activity -->
			<div class ="activities col-md-6" id = "sequelizeUpdateDelete-text">
				<h1>Sequelize Update and Delete</h1>
				<p>In this activity we will add update and delete functionality to our TodoList App</p>
				<h3>Instructions</h3>
				<li>Open the Unsolved Folder</li>
				<li>Run npm install</li>
				<li>Update the config.json file's development object with your own local MYSQL database settings.</li>
				<li>Inside the api-routes.js file, look for the DELETE route and add a Sequelize method to delete the todo with the id available to us in req.params.id.</li>
				<li>Inside of the same file, look for the PUT route and add a Sequelize method to update a todo with the new todo data available to us inside req.body.</li>
				<li>Again, you won't need to touch the front end HTML or JavaScript to make any of this work.</li>
				<li>HINT: you will need to pass in an options object with a "where" attribute into both methods in order to filter these queries to target the Todos we want to update or delete.</li>
				<li>Navigate to localhost:8080. If you can update and delete todos without errors, you were successful.</li>												
					<h3>Files: </h3>
					<a href="https://drive.google.com/open?id=0B5F3A-6n-ILuSk0xdDU1clNxMGc">Folder</a> 				
			</div>
<!-- Solution for Fourth Activity -->
			<div class = "activities col-md-6" id = "sequelizeUpdateDelete-answer">
<!-- Solution Button -->
				<p>
				  <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#sequelizeUpdateDelete-answer-block" aria-expanded="false" aria-controls="#sequelizeUpdateDelete-answer-block">
				    Solution
				  </button>
				</p>
				<div class="collapse activities" id="sequelizeUpdateDelete-answer-block">
<!-- Solution Text -->
				  <div class= "activities">
				  	<h5>Files : </h5>
				  	<a href="https://drive.google.com/open?id=0B5F3A-6n-ILuNHNELWd1NUEwcEE">Solved</a><br>
				  	<h5>Steps : </h5>
				  	Update the config.json file development database object to fit your MySQL database<br>
				  	Let's make a  DELETE route in the api-routes.js file
		          	<pre class ="activities" id ="sequelizeUpdateDelete-answer-1">
		            	<code class ="activities" id ="sequelizeUpdateDelete-answer-1">
app.delete("/api/todos/:id", function(req, res) {
  db.Todo.destroy({
    where: {
      id: req.params.id
    }
  }).then(function(dbTodo) {
    res.json(dbTodo);
  });
});		            	
		            	</code>
          			</pre>
          			When the user hits this DELETE route under /api/todos/:id (A specific id number) it will delete the data from the ToDo table<br> 
          			Let's make a PUT route in the api-routes.js file
		          	<pre class ="activities" id ="sequelizeUpdateDelete-answer-2">
		            	<code class ="activities" id ="sequelizeUpdateDelete-answer-2">
app.put("/api/todos", function(req, res) {
  db.Todo.update({
    text: req.body.text,
    complete: req.body.complete
  }, {
    where: {
      id: req.body.id
    } 
  }).then(function(dbTodo) {
    res.json(dbTodo);
  });
});		            	
		            	</code>
          			</pre>
          			When the user hits the PUT route under /api/todos it will update the data from the ToDo table<br>
          			Run the server.js file         							  	
				  </div>
<!-- Solution Text Ends -->
				</div>	
<!-- Solution for Fourth Activity Ends -->
			</div>
<!-- Fourth Activity Ends -->
		</div>
<!-- Fifth Activity -->
		<div class = "row activities" id = "postAuthorAssociation">
<!-- Text for Fifth Activity -->
			<div class ="activities col-md-6" id = "postAuthorAssociation-text">
				<h1>Post Author Associations</h1>
				<p></p>
				<h3>Instructions</h3>
				<li>Open the Unsolved folder.</li>
				<li>Run npm install</li>
				<li>Open the config folder and update the config.json file's development object to match your own local MySQL database.</li>
				<li>Navigate to the post.js file.</li>
				<li>You will need to pass in a configuration object as a third argument into the sequelize.define method in order to set up a relation. </li>
				<li>This may take a few tries to implement correctly in your own Post model (There's a lot of curly braces there!). You can verify your code works by starting your node server and then checking MySQL Workbench. If the Posts table now has a foreign key of AuthorId, you were successful.</li>
					<h3>Files: </h3>
					<a href="https://drive.google.com/open?id=0B5F3A-6n-ILuTHROWl91TFRRSXc">Folder</a> 				
			</div>
<!-- Solution for Fifth Activity -->
			<div class = "activities col-md-6" id = "postAuthorAssociation-answer">
<!-- Solution Button -->
				<p>
				  <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#postAuthorAssociation-answer-block" aria-expanded="false" aria-controls="#postAuthorAssociation-answer-block">
				    Solution
				  </button>
				</p>

				<div class="collapse activities" id="postAuthorAssociation-answer-block">
<!-- Solution Text -->
				  <div class= "activities">
				  	<h5>Files : </h5>
				  	<a href="https://drive.google.com/open?id=0B5F3A-6n-ILuYklZWjNwdzNPNmc">Solved</a><br>
				  	<h5>Steps : </h5>
				  	Let's create a relationship in the post.js model. You can do this through declaring classMethods after declaring what type of columns you want in the table. This code goes in after the first object (which should have datatypes in it):
		          	<pre class ="activities" id ="postAuthorAssociation-answer-1">
		            	<code class ="activities" id ="postAuthorAssociation-answer-1">
    ,{
      classMethods: {
        associate: function(models) {
          // An Author (foreignKey) is required or a Post can't be made
          Post.belongsTo(models.Author, {
            foreignKey: {
              allowNull: false
            }
          });
        }
      }
    }		                  
		            	</code>
          			</pre>
				  </div>
<!-- Solution Text Ends -->
				</div>	
<!-- Solution for Fifth Activity Ends -->
			</div>
<!-- Fifth Activity Ends -->
		</div>
<!-- Sixth Activity -->
		<div class = "row activities" id = "postAuthorJoins">
<!-- Text for Sixth Activity -->
			<div class ="activities col-md-6" id = "postAuthorJoins-text">
				<h1>Post Author Joins</h1>
				<p>In this activity we alter our current queries so that they return joined Post Author data.</p>
				<h3>Instructions</h3>
				<li>Open the Unsolved Folder</li>
				<li>Run npm install</li>
				<li>Open the config folder and update the config.json file's development object to match your own local MySQL database.</li>
				<li>Navigate to the post-api-routes.js file.</li>
				<li>Add the "include" option to the queries specified in the comments. This is a feature called "eager loading". We want to "include" the Author model. </li>
				<li>Navigate to the author-api-routes.js file and add the "include" option to the queries specified in the comments. Here we want to "include" the Post model.</li>
				<li>If successful the application should now be fully functional. After you create a few Authors with a few posts, try navigating to either localhost:8080/api/posts or localhost:8080/api/authors to make sure the JSON returned for both routes includes all of the data.</li>								
					<h3>Files: </h3>
					<a href="https://drive.google.com/open?id=0B5F3A-6n-ILuUlpNZTROWXh4cU0">Folder</a> 				
			</div>
<!-- Solution for Sixth Activity -->
			<div class = "activities col-md-6" id = "postAuthorJoins-answer">
<!-- Solution Button -->
				<p>
				  <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#postAuthorJoins-answer-block" aria-expanded="false" aria-controls="#postAuthorJoins-answer-block">
				    Solution
				  </button>
				</p>

				<div class="collapse activities" id="postAuthorJoins-answer-block">
<!-- Solution Text -->
				  <div class= "activities">
				  	<h5>Files : </h5>
				  	<a href="https://drive.google.com/open?id=0B5F3A-6n-ILuNzRnVVd2b001Uk0">Solved</a><br>
				  	<h5>Steps : </h5>
				  	Let's make 2 seperate get routes in the post-api-routes file. (One for finding all and one for by id)
		          	<pre class ="activities" id ="postAuthorJoins-answer-1">
		            	<code class ="activities" id ="postAuthorJoins-answer-1">
  app.get("/api/posts", function(req, res) {
    var query = {};
    if (req.query.author_id) {
      query.AuthorId = req.query.author_id;
    }
    db.Post.findAll({
      where: query,
      include: [db.Author]
    }).then(function(dbPost) {
      res.json(dbPost);
    });
  });

  app.get("/api/posts/:id", function(req, res) {
    db.Post.findOne({
      where: {
        id: req.params.id
      },
      include: [db.Author]
    }).then(function(dbPost) {
      res.json(dbPost);
    });
  });		            	         
		            	</code>
          			</pre>
          			Let's make 2 seperate get routes in the author-api route files. (One for finding all and one for by id)
		          	<pre class ="activities" id ="postAuthorJoins-answer-2">
		            	<code class ="activities" id ="postAuthorJoins-answer-2">
  app.get("/api/authors", function(req, res) {
    db.Author.findAll({
      include: [db.Post]
    }).then(function(dbAuthor) {
      res.json(dbAuthor);
    });
  });

  app.get("/api/authors/:id", function(req, res) {
    db.Author.findOne({
      where: {
        id: req.params.id
      },
      include: [db.Post]
    }).then(function(dbAuthor) {
      res.json(dbAuthor);
    });
  });		            	         
		            	</code>
          			</pre>          							  	
				  </div>
<!-- Solution Text Ends -->
				</div>	
<!-- Solution for Sixth Activity Ends -->
			</div>
<!-- Sixth Activity Ends -->
		</div>		
	</div>
</body>
</html>